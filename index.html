<!DOCTYPE html>
<html lang="en">
  
  <link rel="stylesheet" href="style.css">
  <!-- ios-src="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2FRose_usd.usdz?v=1617726688187" -->
  <!-- poster="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2FBodyColor.jpg?v=1617723794611" -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <!-- Loads <model-viewer> for old browsers like IE11: -->
  <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
  <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
    <model-viewer id="color" src="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2FStrada.glb?v=1617729441055"
                  ios-src="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2FStrada.usdz?v=1617729598935"
                  alt="Jeep"
                  shadow-intensity="1"
                  ar camera-controls
                  auto-rotate >
      <button slot="ar-button" style="background-color: white; border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px; "> ðŸ‘‹ Activate AR </button>
  <div class="controls" ,="" id="color-controls">
    <button data-color="1,0,0,1">Red</button>
    <button data-color="0,1,0,1">Green</button>
    <button data-color="0,0,1,1">Blue</button>
  </div>
    </model-viewer>
  
  <script>
const modelViewerColor = document.querySelector("model-viewer#color");

document.querySelector('#color-controls').addEventListener('click', (event) => {
  const colorString = event.target.dataset.color;

  if (!colorString) {
    return;
  }

  const color = colorString.split(',')
      .map(numberString => parseFloat(numberString));

  console.log('Changing color to: ', color);
  const [material] = modelViewerColor.model.materials;
  material.pbrMetallicRoughness.setBaseColorFactor(color);
});
</script>
    
  

</html>
