<!DOCTYPE html>
<html lang="en">
  
  <link rel="stylesheet" href="style.css">
  <!-- ios-src="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2FRose_usd.usdz?v=1617726688187" -->
  <!-- poster="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2FBodyColor.jpg?v=1617723794611" -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <!-- Loads <model-viewer> for old browsers like IE11: -->
  <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
  <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
    <model-viewer id="color" src="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2FStradaTest.glb?v=1617730671274"
                  ios-src="https://cdn.glitch.com/b14b47a4-17b4-4b0b-9cf4-ceacf43fd6da%2Fusdz_strada___1617731109875.usdz?v=1617731216548"
                  alt="Jeep"
                  shadow-intensity="1"
                  ar camera-controls
                  auto-rotate >
      <button slot="ar-button" style="background-color: white; border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px; "> ðŸ‘‹ Activate AR </button>

    </model-viewer>
  
  <script>
const modelViewerColor = document.querySelector("model-viewer#color");

document.querySelector('#color-controls').addEventListener('click', (event) => {
  const colorString = event.target.dataset.color;

  if (!colorString) {
    return;
  }

  const color = colorString.split(',')
      .map(numberString => parseFloat(numberString));

  console.log('Changing color to: ', color);
  const [material] = modelViewerColor.model.materials;
  material.pbrMetallicRoughness.setBaseColorFactor(color);
});
</script>
    
  

</html>
